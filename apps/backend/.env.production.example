# ============================================
# Catallaxyz Backend - Production Environment
# ============================================
# Copy this to .env.production and fill in the values

# ===== Server Configuration =====
PORT=4000
HOST=0.0.0.0
NODE_ENV=production

# ===== API Ports =====
DATA_API_PORT=3001
CLOB_API_PORT=3002
WS_PORT=3003

# ===== Redis Configuration =====
# For Docker Compose (uses container name)
REDIS_HOST=redis
REDIS_PORT=6379
REDIS_PASSWORD=your-secure-redis-password
REDIS_DB=0

# ===== Solana Configuration =====
# Use a paid RPC for production (Helius, QuickNode, etc.)
SOLANA_RPC_URL=https://rpc.helius.xyz/?api-key=YOUR_HELIUS_API_KEY
PROGRAM_ID=YOUR_MAINNET_PROGRAM_ID
# Mainnet USDC
USDC_MINT_ADDRESS=EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v

# ===== Magic Link Configuration =====
MAGIC_SECRET_KEY=sk_live_YOUR_MAGIC_SECRET_KEY
AUTH_TIMESTAMP_WINDOW_SECONDS=300

# ===== Admin Configuration =====
ADMIN_WALLET_ADDRESS=YOUR_ADMIN_WALLET_ADDRESS

# ===== Keeper Configuration =====
# Generate a secure random string
CRON_SECRET=YOUR_SECURE_CRON_SECRET_64_CHARS_OR_MORE
# Keeper wallet secret key (JSON array format, 64 bytes from keypair file)
# Must be registered as keeper in the Global account via set-keeper script
KEEPER_SECRET_KEY=[YOUR_64_BYTE_PRIVATE_KEY_ARRAY]
INACTIVITY_CRON_DAYS=7
# Enable batch processing for termination (recommended: true for efficiency)
TERMINATION_USE_BATCH=true
# Number of markets to terminate per transaction (1-5, default: 4)
TERMINATION_BATCH_SIZE=4

# ===== Operator Configuration =====
# Operator wallet for executing trades (fill_order, match_orders)
# Must be registered as operator via add_operator instruction (or use authority)
OPERATOR_SECRET_KEY=[YOUR_64_BYTE_OPERATOR_SECRET_ARRAY]

# ===== Platform Authority =====
# Platform authority secret key (JSON array format, 64 bytes from keypair file)
PLATFORM_AUTHORITY_SECRET_KEY=[YOUR_64_BYTE_AUTHORITY_SECRET_ARRAY]

# ===== Supabase Configuration =====
SUPABASE_URL=https://your-production-project.supabase.co
SUPABASE_ANON_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...
SUPABASE_SERVICE_ROLE_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...
SUPABASE_JWT_SECRET=your-supabase-jwt-secret

# ===== Security Configuration =====
CORS_ALLOWED_ORIGINS=https://your-domain.com,https://www.your-domain.com
RATE_LIMIT_MAX=120
RATE_LIMIT_WINDOW_MS=60000

# ===== Geo Restriction =====
GEO_CHECK_ENABLED=true
GEO_BLOCKED_COUNTRIES=US,CN

# ===== Logging =====
LOG_LEVEL=info

# ===== Error Tracking =====
SENTRY_DSN=https://xxxxx@sentry.io/xxxxx
SENTRY_ENVIRONMENT=production

# ===== Health Check =====
HEALTH_CHECK_SERVICES=redis,supabase,solana
